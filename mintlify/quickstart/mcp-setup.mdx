---
title: "MCP Setup"
description: "Configure Claude Desktop to manage campaigns through natural language"
---

## Set Up the Scope3 MCP Server

The Scope3 Campaign API includes a built-in MCP (Model Context Protocol) server that enables natural language campaign management through Claude Desktop.

### Prerequisites

- Node.js 18+ installed
- Your Scope3 API key
- Claude Desktop application

### 1. Start the MCP Server

```bash
# Clone and setup the server
git clone <repository-url>
cd scope3-campaign-api
npm install
npm start

# Server starts on http://localhost:3001/mcp
```

### 2. Configure Claude Desktop

Add the MCP server to your Claude Desktop configuration:

**macOS**: `~/Library/Application Support/Claude/claude_desktop_config.json`
**Windows**: `%APPDATA%/Claude/claude_desktop_config.json`

```json
{
  "mcpServers": {
    "scope3-campaigns": {
      "command": "node",
      "args": ["/path/to/scope3-campaign-api/dist/index.js"],
      "env": {
        "SCOPE3_API_KEY": "your_api_key_here"
      }
    }
  }
}
```

### 3. Restart Claude Desktop

After updating the configuration, restart Claude Desktop to load the MCP server.

### 4. Verify Setup

Test the connection by asking Claude:

```
"Am I authenticated with Scope3?"
```

You should see your account details and available tools.

## Available MCP Tools

Once configured, Claude can manage your campaigns using these tools:

### Brand Agent Management

- `create_brand_agent` - Set up advertiser accounts
- `list_brand_agents` - View all accounts
- `update_brand_agent` - Modify account settings

### Campaign Operations

- `create_campaign` - Launch campaigns with smart defaults
- `update_campaign` - Modify campaigns and inventory
- `list_campaigns` - Track campaign performance

### Creative Management

- `create_creative` - Upload creative assets
- `list_creatives` - View creative library
- `update_creative` - Modify creative details

### Inventory Control

- `discover_publisher_products` - Find available inventory
- `create_inventory_option` - Configure custom allocation
- `adjust_inventory_allocation` - Optimize budget distribution
- `analyze_inventory_performance` - Get performance insights

## Natural Language Examples

With MCP configured, you can manage campaigns conversationally:

### Setting Up a Brand Agent

```
Human: "Create a brand agent for Nike with sustainable advertising focus"

Claude: I'll create a Nike brand agent focused on sustainability.
â†’ Uses create_brand_agent tool
â†’ Returns: "âœ… Created brand agent 'Nike Sustainability' (ba_abc123)"
```

### Launching Campaigns

```
Human: "Create a $50K summer campaign targeting eco-conscious millennials with video creative"

Claude: I'll set up your summer campaign for Nike.
â†’ Uses create_campaign with proper parameters
â†’ Returns: "ðŸš€ Campaign 'Summer Sustainability 2024' launched with $50K budget"
```

### Inventory Management

```
Human: "Find premium CTV inventory under $35 CPM for our Nike campaign"

Claude: I'll search for cost-effective premium CTV options.
â†’ Uses discover_publisher_products with filters
â†’ Returns: List of matching inventory options with pricing
```

## Environment Variables

Configure these environment variables for the MCP server:

```bash
# Required
SCOPE3_API_KEY=your_api_key_here

# Optional
PORT=3001                    # Server port (default: 3001)
LOG_LEVEL=info              # Logging level
NODE_ENV=production         # Environment mode
```

## Authentication

The MCP server supports multiple authentication methods:

1. **Environment variable** (recommended for local development):

   ```bash
   export SCOPE3_API_KEY=your_key
   ```

2. **Configuration file** (for Claude Desktop):

   ```json
   {
     "env": {
       "SCOPE3_API_KEY": "your_key"
     }
   }
   ```

3. **Header-based** (for HTTP requests):
   ```bash
   curl -H "x-scope3-api-key: your_key" http://localhost:3001/mcp
   ```

## Troubleshooting

### Common Issues

**MCP server won't start:**

- Check Node.js version (18+ required)
- Verify all dependencies are installed: `npm install`
- Ensure port 3001 is available

**Authentication failed:**

- Verify your API key is correct
- Check environment variables are set
- Confirm API key has proper permissions

**Tools not appearing in Claude:**

- Restart Claude Desktop after config changes
- Check configuration file syntax (valid JSON)
- Verify file paths in configuration

### Debug Mode

Enable debug logging to troubleshoot issues:

```bash
LOG_LEVEL=debug npm start
```

### Health Check

Verify the server is running:

```bash
curl http://localhost:3001/health
# Should return: "ok"
```

## Advanced Configuration

### Custom Port

Run the server on a different port:

```bash
PORT=8080 npm start
```

Update your Claude Desktop config accordingly:

```json
{
  "mcpServers": {
    "scope3-campaigns": {
      "command": "node",
      "args": ["/path/to/scope3-campaign-api/dist/index.js"],
      "env": {
        "SCOPE3_API_KEY": "your_key",
        "PORT": "8080"
      }
    }
  }
}
```

### Production Deployment

For production deployments:

```bash
NODE_ENV=production npm start
```

Consider using a process manager like PM2:

```bash
npm install -g pm2
pm2 start ecosystem.config.js
```

## Next Steps

With MCP configured, you can:

1. **Start with built-in optimization** - Let Scope3 handle inventory allocation automatically
2. **Explore granular control** - Configure specific inventory mixes and budget allocation
3. **Set up brand standards** - Configure brand safety rules across all campaigns
4. **Create synthetic audiences** - Build targeting profiles for campaign optimization

<Tip>
  **Pro Tip**: Start conversations with context like "Using my Nike brand
  agent..." to help Claude understand which advertiser account to work with.
</Tip>
